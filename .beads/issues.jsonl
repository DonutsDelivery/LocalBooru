{"id":"localbooru-0qr","title":"Tauri Migration: Linux Packaging","description":"Package Tauri app for Linux distribution.\n\n## Acceptance Criteria\n- AppImage builds successfully\n- .deb package for Debian/Ubuntu\n- .rpm package for Fedora\n- Bundled Python environment\n- GStreamer dependencies documented/bundled\n\n## Technical Notes\n- Use tauri-bundler\n- Consider Flatpak for easier dependency management\n- Document required system packages\n- Test on clean system installs","status":"open","priority":3,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:56.325381499+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:54:56.325381499+01:00","dependencies":[{"issue_id":"localbooru-0qr","depends_on_id":"localbooru-haz","type":"blocks","created_at":"2026-02-04T14:55:03.87588199+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-0qr","depends_on_id":"localbooru-984","type":"blocks","created_at":"2026-02-04T14:55:03.905775688+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-0r1","title":"Directory location change","description":"make it so we can edit a directory to change its location, so if it was moved we can remap the directory to the new location.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T21:19:49.404681097+01:00","updated_at":"2026-01-22T20:24:35.328779823+01:00","closed_at":"2026-01-22T20:24:35.328779823+01:00","close_reason":"Implemented directory path editing feature"}
{"id":"localbooru-0vu","title":"Tauri Migration: VFR Video Handling","description":"Implement VFR (Variable Frame Rate) video support using GStreamer.\n\n## Acceptance Criteria\n- VFR videos play at correct speed (no audio desync)\n- Frame timing preserved\n- Smooth playback without stuttering\n- Works with timeline scrubbing\n\n## Technical Notes\n- GStreamer handles VFR natively better than browser\n- May need custom timestamp handling for seeking\n- Test with known VFR sources (phone videos, screen recordings)","status":"in_progress","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:45.989226563+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T16:10:59.964742283+01:00","dependencies":[{"issue_id":"localbooru-0vu","depends_on_id":"localbooru-4mn","type":"blocks","created_at":"2026-02-04T14:55:01.501430359+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-2us","title":"Tauri Migration: Frontend IPC Porting","description":"Port all Electron IPC calls to Tauri invoke commands.\n\n## Context\nThe React frontend currently uses window.electronAPI to communicate with the Electron main process. This needs to be replaced with Tauri's invoke system.\n\n## Current electronAPI Methods (from preload.js)\nExamine electron/preload.js for the full list, including:\n- File system operations (read, write, glob)\n- Path operations (join, resolve, basename)\n- Dialog operations (open file, save file, select folder)\n- Shell operations (open external URL, show in folder)\n- Window operations (minimize, maximize, close)\n- App info (version, platform, isElectron)\n- Video streaming (transcode URLs, HLS paths)\n\n## Deliverables\n1. Create Tauri commands for each electronAPI method\n2. Create frontend wrapper that mimics electronAPI interface\n3. Ensure backward compatibility (same API shape)\n4. Handle platform differences (Linux paths vs Windows)\n\n## Implementation Strategy\n```javascript\n// frontend/src/tauri-api.js\nimport { invoke } from '@tauri-apps/api/core';\n\nexport const tauriAPI = {\n  readFile: (path) =\u003e invoke('read_file', { path }),\n  writeFile: (path, data) =\u003e invoke('write_file', { path, data }),\n  // ... etc\n};\n\n// For compatibility, expose as window.electronAPI\nwindow.electronAPI = tauriAPI;\n```\n\n## Files to Modify\n- frontend/src/api.js - Update API client\n- frontend/src/App.jsx - Platform detection\n- All components using window.electronAPI\n\n## Success Criteria\n- All frontend functionality works with Tauri backend\n- No references to window.electronAPI remain (or they're aliased)\n- File dialogs work correctly on Linux\n- External links open in system browser","status":"closed","priority":2,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:09.214292634+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.145694615+01:00","closed_at":"2026-02-04T14:55:14.145694615+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-2us","depends_on_id":"localbooru-bi6","type":"blocks","created_at":"2026-02-04T14:52:09.226720254+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-2us","depends_on_id":"localbooru-qzf","type":"blocks","created_at":"2026-02-04T14:52:09.251677434+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-2v6","title":"Tauri Migration: Video Controls Integration","description":"Connect React video controls UI to GStreamer player via Tauri commands.\n\n## Context\nLocalBooru has a custom video player UI with VLC-style controls:\n- Play/Pause toggle\n- Seek bar with preview thumbnails\n- Volume control with mute\n- Playback speed adjustment\n- Fullscreen toggle\n- Frame stepping (comma/period keys)\n- Loop toggle\n\n## Current Implementation\n- frontend/src/components/Lightbox/Lightbox.jsx - Main lightbox component\n- frontend/src/components/Lightbox/Lightbox.css - Styling\n- frontend/src/components/Lightbox/hooks/usePlaybackControls.js - Control logic\n\nThe controls currently manipulate an HTML5 \u003cvideo\u003e element via ref.\n\n## Deliverables\n1. Tauri commands for GStreamer control:\n   - gstreamer_play()\n   - gstreamer_pause()\n   - gstreamer_seek(position_ms)\n   - gstreamer_set_volume(0.0-1.0)\n   - gstreamer_set_rate(speed)\n   - gstreamer_get_position() -\u003e position_ms\n   - gstreamer_get_duration() -\u003e duration_ms\n\n2. Event system for playback state:\n   - on_position_changed\n   - on_state_changed (playing/paused/stopped)\n   - on_eos (end of stream)\n   - on_error\n\n3. Update usePlaybackControls.js to use Tauri commands instead of video element\n\n## Technical Notes\n- GStreamer position/duration queries return in nanoseconds\n- Need periodic polling or callback for position updates\n- State changes are async - handle transitions properly\n\n## Success Criteria\n- All existing controls work with GStreamer backend\n- Smooth seek bar updates during playback\n- Keyboard shortcuts work (space, arrow keys, comma/period)\n- Volume persists across videos","status":"closed","priority":2,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:28.991856705+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.155367344+01:00","closed_at":"2026-02-04T14:55:14.155367344+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-2v6","depends_on_id":"localbooru-f77","type":"blocks","created_at":"2026-02-04T14:52:09.273289516+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-2v6","depends_on_id":"localbooru-2us","type":"blocks","created_at":"2026-02-04T14:52:09.298596159+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-378","title":"Tauri Migration: SVP/Interpolation Pipeline","description":"Integrate SVP frame interpolation with GStreamer video playback.\n\n## Context\nLocalBooru supports SVP (SmoothVideo Project) style frame interpolation using VapourSynth. The current implementation:\n1. User enables interpolation in settings\n2. Python backend starts VapourSynth + FFmpeg pipeline\n3. Pipeline outputs HLS stream to temp directory\n4. Frontend plays HLS stream via hls.js\n\n## Current Implementation Files\n- api/services/transcode_stream.py - HLS transcoding service\n- api/routers/settings/video.py - Video settings API\n- frontend/src/components/Lightbox/hooks/useVideoStreaming.js - Streaming logic\n\n## How It Will Work with GStreamer\nGStreamer can consume HLS streams natively:\n```\nhlsdemux → decodebin → videoconvert → gtkwaylandsink\n```\n\nOr we could potentially integrate VapourSynth directly into GStreamer pipeline (advanced).\n\n## Deliverables\n1. GStreamer pipeline that consumes HLS streams\n2. Tauri command to start SVP pipeline (calls Python backend)\n3. Tauri command to get HLS stream URL\n4. Frontend integration - show interpolation status\n5. Smooth transition between original and interpolated playback\n\n## Technical Notes\n- HLS streams are served by Python backend on localhost\n- GStreamer's souphttpsrc or hlsdemux can fetch HLS\n- Need to handle pipeline state changes (loading → playing)\n- Consider latency - HLS has inherent delay\n\n## Success Criteria\n- Interpolated video plays smoothly in GStreamer\n- User can toggle interpolation on/off\n- No audio sync issues\n- Works with 24fps → 60fps interpolation","status":"closed","priority":2,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:21.276748954+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.150511662+01:00","closed_at":"2026-02-04T14:55:14.150511662+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-378","depends_on_id":"localbooru-f77","type":"blocks","created_at":"2026-02-04T14:52:09.347349789+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-378","depends_on_id":"localbooru-qzf","type":"blocks","created_at":"2026-02-04T14:52:09.376660253+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-41m","title":"Tauri Migration: SVP/Interpolation Pipeline","description":"Integrate SVP or custom frame interpolation with GStreamer pipeline.\n\n## Acceptance Criteria\n- Frame interpolation toggleable in settings\n- SVP integration OR RIFE-ncnn fallback\n- Smooth 60fps+ output from 24fps sources\n- No visual artifacts at default settings\n\n## Technical Notes\n- GStreamer filter pipeline approach\n- Consider vapoursynth integration if SVP needed\n- RIFE-ncnn as fallback (GPU accelerated)\n- User-configurable interpolation ratio","status":"in_progress","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:48.950487132+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T16:11:08.521384981+01:00","dependencies":[{"issue_id":"localbooru-41m","depends_on_id":"localbooru-hbx","type":"blocks","created_at":"2026-02-04T14:55:02.197907091+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-41m","depends_on_id":"localbooru-eaj","type":"blocks","created_at":"2026-02-04T14:55:02.22831969+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-4mn","title":"Tauri Migration: GStreamer Video Player Prototype","description":"Prove that GStreamer can render video in Tauri on Wayland Linux.\n\n## Acceptance Criteria\n- Minimal Tauri app with GStreamer playback\n- Works on Wayland (not just X11)\n- Hardware decode functional\n- Can overlay transparent WebView on top\n\n## Technical Notes\n- Use gstreamer-rs bindings\n- Try gtkwaylandsink or wlshm approach\n- May need custom GTK widget integration\n- Reference: https://discourse.gstreamer.org/t/embedding-gstreamer-into-wayland-window/3661","status":"closed","priority":1,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:40.631086614+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T16:10:22.316050783+01:00","closed_at":"2026-02-04T16:10:22.316050783+01:00","close_reason":"Completed GStreamer video player prototype for Tauri on Wayland. Key findings: GStreamer works with hardware acceleration (NVIDIA NVDEC), waylandsink provides native Wayland rendering, but WebView overlay requires separate approach (frame extraction via appsink or HTTP streaming). See GSTREAMER_WAYLAND.md for full details.","dependencies":[{"issue_id":"localbooru-4mn","depends_on_id":"localbooru-hbx","type":"blocks","created_at":"2026-02-04T14:55:01.0898368+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-6s3","title":"Tauri Migration: Transcoding Pipeline","description":"Port video transcoding functionality to work with Tauri/GStreamer.\n\n## Context\nLocalBooru supports transcoding videos to different qualities (720p, 1080p, etc.) via FFmpeg. The transcoded output is served as HLS for streaming.\n\n## Current Implementation\n- api/routers/settings/video.py - Quality selection API\n- api/services/transcode_stream.py - FFmpeg transcoding service\n- Frontend requests transcode, backend generates HLS, frontend plays via hls.js\n\n## What Changes\nThe transcoding itself stays in Python/FFmpeg. Only the playback changes:\n- OLD: HLS stream → hls.js → HTML5 video\n- NEW: HLS stream → GStreamer hlsdemux → native playback\n\n## Deliverables\n1. Tauri command to request transcode at specific quality\n2. Tauri command to get transcode progress/status\n3. GStreamer pipeline for HLS playback (reuse from SVP task)\n4. Quality selector UI integration\n5. Cancel transcode functionality\n\n## Technical Notes\n- Transcode outputs to temp directory as HLS segments\n- Python backend serves HLS via FastAPI\n- GStreamer needs to poll/refresh HLS playlist\n- Handle transcode failures gracefully\n\n## Files to Reference\n- api/services/transcode_stream.py\n- frontend/src/components/Lightbox/hooks/useVideoStreaming.js\n\n## Success Criteria\n- User can select video quality (original, 720p, 1080p, etc.)\n- Transcode progress is shown in UI\n- Transcoded video plays smoothly in GStreamer\n- Can cancel in-progress transcode","status":"closed","priority":2,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:57.616559321+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.153047085+01:00","closed_at":"2026-02-04T14:55:14.153047085+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-6s3","depends_on_id":"localbooru-f77","type":"blocks","created_at":"2026-02-04T14:52:09.402095354+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-6s3","depends_on_id":"localbooru-qzf","type":"blocks","created_at":"2026-02-04T14:52:09.42816615+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-7xl","title":"Tauri Migration: VFR Video Handling","description":"Ensure VFR (Variable Frame Rate) videos play correctly with GStreamer.\n\n## Context\nThe primary motivation for this entire Tauri migration is to solve VFR video playback issues. HTML5 video in browsers mishandles VFR, causing stuttering and A/V desync.\n\n## What is VFR?\nVariable Frame Rate videos have non-constant time between frames:\n- Screen recordings often have VFR\n- Some phone cameras produce VFR\n- Game recordings with variable FPS\n\n## Why GStreamer Solves This\nGStreamer's video pipeline handles frame timestamps properly:\n- Each frame has a PTS (Presentation Time Stamp)\n- GStreamer respects these timestamps during playback\n- Hardware decoders preserve timing information\n\n## Current Workaround (to be replaced)\nThe Electron app detects VFR and transcodes to CFR (Constant Frame Rate) via FFmpeg:\n- api/services/transcode_stream.py handles this\n- Adds latency and uses CPU\n- Transcoding 404 bug is currently broken anyway\n\n## Deliverables\n1. Test suite of VFR video files for verification\n2. Confirm GStreamer plays VFR files correctly (no transcode needed!)\n3. Remove VFR detection logic from frontend (useVideoStreaming.js)\n4. Remove or simplify transcode fallback code\n5. Document which container/codec combinations work\n\n## Test Cases\n- MKV with VFR H.264\n- MP4 with VFR H.265/HEVC  \n- WebM with VFR VP9\n- Screen recording with variable framerate\n- 24fps/30fps mixed content\n\n## Success Criteria\n- VFR videos play without stuttering\n- Audio stays in sync throughout playback\n- No automatic transcoding triggered\n- Seeking works correctly in VFR content","status":"closed","priority":2,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:50.589549141+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.148092248+01:00","closed_at":"2026-02-04T14:55:14.148092248+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-7xl","depends_on_id":"localbooru-f77","type":"blocks","created_at":"2026-02-04T14:52:09.322869462+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-984","title":"Tauri Migration: Transcoding Pipeline","description":"Implement on-the-fly transcoding for incompatible formats.\n\n## Acceptance Criteria\n- Transcode non-native formats to playable format\n- HLS streaming for large files\n- Progress indication\n- Caching of transcoded segments\n\n## Technical Notes\n- GStreamer can handle transcoding directly\n- May not need FFmpeg subprocess anymore\n- Consider hardware encode (NVENC, VAAPI)\n- Cache management for disk space","status":"in_progress","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:51.50667459+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T16:11:15.40944923+01:00","dependencies":[{"issue_id":"localbooru-984","depends_on_id":"localbooru-4mn","type":"blocks","created_at":"2026-02-04T14:55:02.726705112+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-as3","title":"Change default auth_required_level from none to local_network","description":"## Context\nThe default network settings at `api/routers/settings.py:91` set `auth_required_level: none` which means no authentication by default. This is insecure.\n\n## Requirements\n1. Change default `auth_required_level` from `\"none\"` to `\"local_network\"`\n2. This means auth will be required when accessing from local network or public internet\n3. Localhost access will remain unauthenticated by default\n\n## Files to modify\n- `api/routers/settings.py` - line 91, change default value\n\n## Notes\n- This is a simple one-line change\n- Existing users with explicit settings won't be affected\n- New installations will be more secure by default\n- Depends on: auth middleware being implemented first (otherwise this setting still does nothing)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T18:04:53.703907961+01:00","updated_at":"2026-01-19T18:09:09.04830642+01:00","closed_at":"2026-01-19T18:09:09.04830642+01:00"}
{"id":"localbooru-bb9","title":"make svp enable/disable refresh video so that it switched effectively.","status":"tombstone","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-01-27T12:32:15.494705342+01:00","created_by":"DonutsDelivery","updated_at":"2026-01-29T14:15:12.121705556+01:00","deleted_at":"2026-01-29T14:15:12.121705556+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"localbooru-bi6","title":"Tauri Migration: Project Setup","description":"Initialize Tauri v2 project structure for LocalBooru migration IN A NEW DIRECTORY.\n\n## Context\nLocalBooru is currently an Electron app with:\n- React frontend (Vite)\n- Python FastAPI backend for image/video processing\n- FFmpeg/VapourSynth for video transcoding and SVP interpolation\n\nWe are migrating to Tauri for native video playback via GStreamer on Linux/Wayland.\n\n## IMPORTANT: New Directory Structure\nCreate the Tauri port in a NEW directory to keep it separate from the Electron app:\n\n```\nlocalbooru/              # Existing Electron app (keep as-is)\n├── electron/\n├── frontend/\n├── api/\n└── ...\n\nlocalbooru-tauri/        # NEW Tauri port directory\n├── src-tauri/           # Rust backend\n│   ├── Cargo.toml\n│   ├── tauri.conf.json\n│   └── src/\n│       └── main.rs\n├── frontend/            # Copy/link from existing\n├── api/                 # Copy/link from existing\n└── package.json         # New Tauri-specific package.json\n```\n\n## Deliverables\n1. Create new directory: ~/Programs/Claude Projects/localbooru-tauri/\n2. Initialize Tauri v2 project with `npm create tauri-app@latest`\n3. Configure Cargo.toml with dependencies (tauri, gstreamer-rs, etc.)\n4. Configure tauri.conf.json for Linux (GTK/WebKitGTK)\n5. Copy or symlink frontend/ directory from original\n6. Copy or symlink api/ directory from original\n7. Basic window that loads the React frontend\n\n## Technical Notes\n- Tauri v2 uses Rust for backend logic\n- On Linux, Tauri uses WebKitGTK (GTK3-based)\n- Need to preserve ability to spawn Python backend process\n- Frontend at frontend/dist/ should load in Tauri window\n- Keep Electron app functional for comparison/fallback\n\n## Success Criteria\n- 'cd localbooru-tauri \u0026\u0026 npm run tauri dev' launches app\n- React frontend visible in Tauri window\n- No console errors from Tauri initialization\n- Original Electron app still works independently","status":"closed","priority":1,"issue_type":"epic","owner":"megusta52@proton.me","created_at":"2026-02-04T14:50:40.897794288+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.135997199+01:00","closed_at":"2026-02-04T14:55:14.135997199+01:00","close_reason":"Duplicates - using newly created task issues instead"}
{"id":"localbooru-bn0","title":"make encoder work without svp.","status":"tombstone","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-01-27T12:31:49.985964937+01:00","created_by":"DonutsDelivery","updated_at":"2026-01-29T14:15:11.217386133+01:00","deleted_at":"2026-01-29T14:15:11.217386133+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"localbooru-eaj","title":"Tauri Migration: Python Backend Bridge","description":"Create Tauri commands that spawn/manage the Python FastAPI backend.\n\n## Acceptance Criteria\n- Tauri command to spawn Python backend process\n- Health check / readiness detection\n- Graceful shutdown on app close\n- Port allocation (avoid conflicts)\n- Backend process lifecycle tied to app\n\n## Technical Notes\n- Mirror existing Electron backendManager.js functionality\n- Use tauri::process::Command for subprocess management\n- Consider sidecar approach for bundled Python","status":"closed","priority":1,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:37.621491643+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T15:37:59.483042575+01:00","closed_at":"2026-02-04T15:37:59.483042575+01:00","close_reason":"Closed","dependencies":[{"issue_id":"localbooru-eaj","depends_on_id":"localbooru-hbx","type":"blocks","created_at":"2026-02-04T14:55:01.066896816+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-f77","title":"Tauri Migration: GStreamer Video Player Prototype","description":"Build GStreamer video player that works on Linux Wayland with GTK integration.\n\n## Context\nHTML5 video in browsers cannot handle VFR (Variable Frame Rate) videos properly. We need native video playback via GStreamer which handles VFR natively and supports hardware decoding.\n\nTauri on Linux uses WebKitGTK (GTK3-based), so we can integrate GStreamer's GTK sinks.\n\n## Why GStreamer (not mpv/libmpv)\n- Window embedding (--wid) doesn't work on Wayland\n- mpv's render API requires complex buffer transfer to WebView\n- GStreamer has native GTK sinks (gtkwaylandsink, gtk4paintablesink)\n- GStreamer integrates naturally with GTK widget tree\n\n## Deliverables\n1. Minimal Tauri app with GStreamer video playback\n2. GStreamer pipeline: filesrc → decodebin → videoconvert → gtkwaylandsink\n3. Video renders in GTK surface within Tauri window\n4. Basic controls: play, pause, seek, volume\n5. Works on Wayland (primary) and X11 (fallback)\n\n## Technical Implementation\n```rust\n// Pseudo-code structure\nuse gstreamer as gst;\nuse gstreamer_video as gst_video;\n\nfn create_pipeline(file_path: \u0026str) -\u003e gst::Pipeline {\n    // filesrc ! decodebin ! videoconvert ! gtkwaylandsink\n}\n```\n\n## Dependencies\n- gstreamer-rs (Rust bindings)\n- gstreamer-video-rs\n- gst-plugins-base, gst-plugins-good, gst-plugins-bad\n\n## Success Criteria\n- Video plays in Tauri window on Wayland session\n- No window embedding issues (no separate windows)\n- Smooth playback of VFR video files\n- Controls work from JavaScript/React side","status":"closed","priority":1,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:00.544804062+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.143121402+01:00","closed_at":"2026-02-04T14:55:14.143121402+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-f77","depends_on_id":"localbooru-bi6","type":"blocks","created_at":"2026-02-04T14:52:09.20395636+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-haz","title":"Tauri Migration: Video Controls Integration","description":"Connect WebView UI controls to GStreamer video player.\n\n## Acceptance Criteria\n- Play/pause from HTML controls\n- Seek bar with preview thumbnails\n- Volume control\n- Fullscreen toggle\n- Playback speed control\n- Quality selector (if transcoding)\n\n## Technical Notes\n- Tauri commands for each control action\n- Event stream from Rust for time updates\n- Consider tauri-plugin-event for real-time updates","status":"open","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:54.162123071+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:54:54.162123071+01:00","dependencies":[{"issue_id":"localbooru-haz","depends_on_id":"localbooru-pad","type":"blocks","created_at":"2026-02-04T14:55:03.34498266+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-haz","depends_on_id":"localbooru-0vu","type":"blocks","created_at":"2026-02-04T14:55:03.375297918+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-hbx","title":"Tauri Migration: Project Setup","description":"Set up the Tauri project structure alongside the existing Electron app.\n\n## Acceptance Criteria\n- Initialize Tauri project with cargo-tauri\n- Configure for coexistence with Electron (can run either)\n- Set up Rust workspace structure\n- Add basic window creation\n- Document build/run commands\n\n## Technical Notes\n- Use Tauri 2.x (latest stable)\n- Keep frontend in same location (shared between Electron/Tauri during migration)\n- Configure for Linux target initially","status":"closed","priority":1,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:34.825582769+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T15:11:35.749421083+01:00","closed_at":"2026-02-04T15:11:35.749421083+01:00","close_reason":"Closed"}
{"id":"localbooru-ilf","title":"gallery count is broken in the side panel, always showing 0 images.","status":"closed","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-01-24T05:28:12.816309967+01:00","created_by":"DonutsDelivery","updated_at":"2026-01-24T07:53:38.98323208+01:00","closed_at":"2026-01-24T07:53:38.98323208+01:00","close_reason":"Fixed library stats to query per-directory databases instead of empty main Image table"}
{"id":"localbooru-nmb","title":"Tauri Migration: Linux Packaging","description":"Configure Tauri packaging for Linux distribution formats.\n\n## Context\nLocalBooru currently packages for Linux using electron-builder:\n- AppImage (primary)\n- .deb package\n- .rpm package\n- .zip archive\n\nTauri uses different packaging tools but supports similar formats.\n\n## Current Electron Packaging\nSee package.json 'build.linux' section:\n- Bundles python-venv-linux for Python runtime\n- Bundles api/ directory for Python code\n- Bundles frontend/dist/ for web assets\n- Includes tagger models\n\n## Deliverables\n1. tauri.conf.json bundle configuration\n2. AppImage generation\n3. .deb package generation\n4. Bundled Python environment (or system Python detection)\n5. Desktop entry with icon\n6. File associations (.booru files if applicable)\n\n## Technical Considerations\n- Tauri apps are much smaller than Electron (~10MB vs ~150MB base)\n- Still need to bundle Python + dependencies for processing\n- GStreamer plugins should use system libraries (not bundled)\n- Need to handle missing GStreamer plugins gracefully\n\n## Dependencies to Bundle\n- Python virtual environment with:\n  - FastAPI, uvicorn\n  - onnxruntime for AI tagging\n  - vapoursynth for video processing\n- FFmpeg binary (or rely on system)\n- Model files for tagger\n\n## Success Criteria\n- AppImage runs on fresh Arch/Ubuntu/Fedora install\n- .deb installs correctly on Debian/Ubuntu\n- App icon appears in system menu\n- Bundled Python environment works\n- Reasonable file size (\u003c100MB without models)","status":"closed","priority":3,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:51:37.648211351+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.157769293+01:00","closed_at":"2026-02-04T14:55:14.157769293+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-nmb","depends_on_id":"localbooru-2v6","type":"blocks","created_at":"2026-02-04T14:52:09.459263787+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-nmb","depends_on_id":"localbooru-7xl","type":"blocks","created_at":"2026-02-04T14:52:09.483638022+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-nmb","depends_on_id":"localbooru-378","type":"blocks","created_at":"2026-02-04T14:52:09.509813726+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-nmb","depends_on_id":"localbooru-6s3","type":"blocks","created_at":"2026-02-04T14:52:09.53609195+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-pad","title":"Tauri Migration: Frontend IPC Porting","description":"Replace Electron IPC calls with Tauri commands in the frontend.\n\n## Acceptance Criteria\n- Replace all window.electron.* calls with Tauri invoke\n- Update preload script equivalent (if needed)\n- Window control (minimize, maximize, close)\n- File system access through Tauri\n- All existing frontend features work\n\n## Technical Notes\n- Use @tauri-apps/api package\n- May need to create Tauri commands for each Electron IPC handler\n- Consider compatibility layer for gradual migration","status":"in_progress","priority":2,"issue_type":"task","owner":"megusta52@proton.me","created_at":"2026-02-04T14:54:43.474052057+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T16:10:54.750065696+01:00","dependencies":[{"issue_id":"localbooru-pad","depends_on_id":"localbooru-hbx","type":"blocks","created_at":"2026-02-04T14:55:01.214602547+01:00","created_by":"DonutsDelivery"},{"issue_id":"localbooru-pad","depends_on_id":"localbooru-eaj","type":"blocks","created_at":"2026-02-04T14:55:01.239230076+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-qzf","title":"Tauri Migration: Python Backend Bridge","description":"Create Tauri commands to spawn and communicate with Python FastAPI backend.\n\n## Context\nLocalBooru's Electron app spawns a Python FastAPI backend process that handles:\n- Image/video metadata extraction\n- Thumbnail generation\n- AI tagging (using ONNX models)\n- Video transcoding (FFmpeg)\n- SVP interpolation (VapourSynth)\n\nThe backend runs on localhost:8787 and the frontend communicates via HTTP API.\n\n## Current Electron Implementation\n- electron/main.js spawns Python process\n- electron/preload.js exposes electronAPI to frontend\n- Frontend uses window.electronAPI for native operations\n\n## Deliverables\n1. Tauri command to spawn Python backend process\n2. Tauri command to check if backend is running\n3. Tauri command to stop backend process\n4. Health check polling until backend is ready\n5. Environment variable passing (paths, ports, etc.)\n\n## Files to Reference\n- electron/main.js - Python process spawning logic\n- api/main.py - FastAPI entry point\n- electron/preload.js - Current IPC API\n\n## Technical Notes\n- Use std::process::Command in Rust to spawn Python\n- Handle process lifecycle (start, monitor, restart, stop)\n- Pass appropriate Python path (system vs bundled)\n- Forward stdout/stderr for debugging\n\n## Success Criteria\n- Python backend auto-starts when Tauri app launches\n- Backend health endpoint responds successfully\n- Backend stops cleanly when app closes\n- Works with both system Python and bundled Python","status":"closed","priority":1,"issue_type":"feature","owner":"megusta52@proton.me","created_at":"2026-02-04T14:50:51.771354094+01:00","created_by":"DonutsDelivery","updated_at":"2026-02-04T14:55:14.140284147+01:00","closed_at":"2026-02-04T14:55:14.140284147+01:00","close_reason":"Duplicates - using newly created task issues instead","dependencies":[{"issue_id":"localbooru-qzf","depends_on_id":"localbooru-bi6","type":"blocks","created_at":"2026-02-04T14:52:09.178500733+01:00","created_by":"DonutsDelivery"}]}
{"id":"localbooru-yrg","title":"Increase password strength requirements","description":"## Context\nCurrent password validation at `api/routers/users.py:129` and `:193` only requires 4 characters minimum. This is trivially brute-forceable.\n\n## Requirements\n1. Increase minimum password length to 8 characters\n2. Add complexity requirements:\n   - At least one uppercase letter\n   - At least one lowercase letter  \n   - At least one number\n3. Create a shared `validate_password()` function to avoid code duplication\n4. Return helpful error messages explaining what's missing\n\n## Files to modify\n- `api/routers/users.py` - lines 129 and 193 for password validation\n\n## Testing\n- 'password' should fail (no uppercase, no number)\n- 'Password1' should pass\n- 'PASSWORD1' should fail (no lowercase)\n- 'Pass1' should fail (too short)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T18:04:53.282183437+01:00","updated_at":"2026-01-19T18:07:10.655384751+01:00","closed_at":"2026-01-19T18:07:10.655384751+01:00"}
